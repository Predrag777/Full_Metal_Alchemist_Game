<html>
    <head>
        <title>Full Metal</title>
        <link rel="stylesheet" href="style/main_style.css">
    </head>
    <body>
        <div id="main_player"></div>
        

    </body>
    <script>
        class Enemy {
    constructor(x, y) {
        // Definisanje pozicija x i y
        this.x = x;
        this.y = y;

        // Boolean vrednosti za akcije
        this.move = false;
        this.jump = false;
        this.attack = false;
    }

    // Metoda za pomeranje neprijatelja
    startMove() {
        this.move = true;
        console.log('Enemy started moving');
    }

    stopMove() {
        this.move = false;
        console.log('Enemy stopped moving');
    }

    // Metoda za skok
    startJump() {
        this.jump = true;
        console.log('Enemy jumped');
    }

    stopJump() {
        this.jump = false;
        console.log('Enemy landed');
    }

    // Metoda za napad
    startAttack() {
        this.attack = true;
        console.log('Enemy started attacking');
    }

    stopAttack() {
        this.attack = false;
        console.log('Enemy stopped attacking');
    }
}
    </script>
    <script>
        var x = 200;
        var y = 700;
        var speed = 0, jumpSpeed = 0, myCounter = 0;
        var jump = false, reachedTop = false, weapon1 = false, move = false;
    
        var enemySpeed = 20;
        var enemyJump = false, enemyReachTop = false, enemyMove = false


        var numberOfEnemy=2
        
        for(let i=0;i<numberOfEnemy;i++){
            const enemy=document.createElement("div")
            enemy.classList.add("enemy")
            enemy.id=`${i}`
            
            
            enemy.style.marginLeft = "500px"
            enemy.style.marginTop = "700px"
        }

        var urlImage = 'url("images/characters/edward/edwardelricBase.png")';
    
        function setPlayer(x, y) {
            var div = document.getElementById("main_player");
    
            div.style.marginLeft = x + "px";
            div.style.marginTop = y + "px";
            div.style.backgroundImage = urlImage;
        }
    
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp' && !jump) {
                jump = true;
                jumpSpeed = 50;
                console.log("Jump");
            }
            if (event.key === 'ArrowRight') {
                console.log("Right");
                move = true;
                speed = 20;
            }
            if (event.key === 'ArrowLeft') {
                console.log("Left");
                move = true;
                speed = -20;
            }
            if (event.key === "1" && !jump) {
                console.log("WEAPON1");
                weapon1 = true;
            }

        });
    
        function handleMovement() {
            if (move) {
                x += speed;
                urlImage = (urlImage.includes('edwardelricBase.png')) 
                    ? 'url("images/characters/edward/edwardelricBase2.png")' 
                    : 'url("images/characters/edward/edwardelricBase.png")';
                move = false;
                speed = 0;
            }
        }
    
        function handleJump() {
            if (jump) {
                y -= jumpSpeed;
                if (y < 500 && !reachedTop) {
                    jumpSpeed *= -1;
                    reachedTop = true;
                }
                if (reachedTop && y >= 700) {
                    y = 700;
                    jumpSpeed = 0;
                    jump = false;
                    reachedTop = false;
                    urlImage = 'url("images/characters/edward/edwardelricBase.png")';
                } else {
                    urlImage = 'url("images/characters/edward/edwardelricJump.png")';
                }
            }
        }
    
        function handleWeapon1() {
            if (weapon1) {
                myCounter++;
                if (myCounter < 15) {
                    urlImage = 'url("images/characters/edward/edwardelricCallWeapon.png")';
                } else if (myCounter < 20) {
                    urlImage = 'url("images/characters/edward/edwardelricWeapon1.png")';
                    weapon1 = false;
                } else {
                    myCounter = 0;
                    weapon1 = false;
                }
            }
        }
    
        var repaint = setInterval(function () {
            handleMovement();
            handleJump();
            handleWeapon1();
            setPlayer(x, y);
        }, 100);
    
        setPlayer(x, y);
    </script>
    



<script>
    
</script>
</html>